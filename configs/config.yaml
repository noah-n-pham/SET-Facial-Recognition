# Face Recognition System Configuration
# =====================================
# This config is for the SIMPLIFIED approach using pretrained MobileFaceNet

# Model Configuration
model:
  provider: "insightface"              # Model provider
  model_name: "buffalo_l"              # InsightFace model pack
                                       # Options: buffalo_l (large, accurate)
                                       #          buffalo_s (small, faster)
  device: "cpu"                        # "cpu" or "cuda"
  embedding_dim: 512                   # Embedding dimensionality (fixed for MobileFaceNet)

# Data Configuration
data:
  dataset_path: "data/raw/Dataset"     # Path to face photos folder
  images_per_person: 30                # Max images to use per person for reference

# Recognition Configuration  
recognition:
  similarity_threshold: 0.6            # Minimum similarity to recognize [0-1]
                                       # Higher = stricter (fewer false positives)
                                       # Lower = more lenient (fewer false negatives)
                                       # Recommended range: 0.5-0.7

# Face Detection Configuration
detection:
  model_path: "assets/face_detection_yunet_2023mar.onnx"
  conf_threshold: 0.7                  # Detection confidence threshold
  nms_threshold: 0.3                   # Non-maximum suppression threshold

# ============================================================================
# SEMESTER 2: Emotion Recognition Configuration
# ============================================================================
# IMPORTANT: Only 7-class models are supported. 8-class models will fail.
emotion:
  model_path: "assets/mobilenet_7.onnx"
  num_classes: 7                       # STRICT - code will fail if model outputs 8
  emotions: ['Anger', 'Disgust', 'Fear', 'Happiness', 'Neutral', 'Sadness', 'Surprise']
  input_size: [224, 224]               # MobileNet standard input size
  # ImageNet normalization (required for MobileNet models)
  normalize_mean: [0.485, 0.456, 0.406]
  normalize_std: [0.229, 0.224, 0.225]
  smoothing_window: 5                  # Number of frames to average for stability

# Camera Configuration
camera:
  device_id: 0                         # Camera ID (0 = default webcam)
  resolution: [640, 480]               # Camera resolution [width, height]
  mirror: true                         # Flip frame horizontally

# Hardware Deployment (Optional - for Jetson + Arduino)
hardware:
  arduino_port: "/dev/ttyUSB0"         # Serial port for Arduino
                                       # Linux/Mac: /dev/ttyUSB0, /dev/ttyACM0
                                       # Windows: COM3, COM4, etc.
  arduino_baud_rate: 9600              # Serial communication speed

# File Paths
paths:
  model_dir: "models"                  # Directory for model files
  reference_embeddings: "models/reference_embeddings.npy"
  label_names: "models/label_names.txt"
  output_dir: "outputs"                # For saving results/logs

# Display Settings
display:
  show_fps: true                       # Show FPS counter
  box_thickness: 2                     # Bounding box thickness
  font_scale: 0.6                      # Font size for labels
  recognized_color: [0, 255, 0]        # Green for recognized (BGR)
  unknown_color: [0, 0, 255]           # Red for unknown (BGR)
